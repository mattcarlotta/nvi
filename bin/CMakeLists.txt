cmake_minimum_required(VERSION 3.26.3)
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
project(nvi)

option(COMPILE_SRC "Compile source" ON)
option(COMPILE_TESTS "Compile tests" OFF)
option(INSTALL_BIN_DIR "Binary installation directory" OFF)
set(SRC_FOLDER ${CMAKE_SOURCE_DIR}/src)
file(GLOB SRC_FILES ${SRC_FOLDER}/*.cpp)
list(REMOVE_ITEM SRC_FILES ${SRC_FOLDER}/main.cpp)

project(${PROJECT_NAME} VERSION 1.0)
if(COMPILE_SRC MATCHES ON)
    add_subdirectory(${SRC_FOLDER})
endif()

if(COMPILE_TESTS MATCHES ON)
    enable_testing()
    add_subdirectory(tests)
endif()
